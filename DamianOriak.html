<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8" />
    <title>App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script charset="utf-8" src="js/app.js"></script>
</head>

<body>

    <div class="wrapper">
        <div contenteditable class="password-input">
        </div>
        <div class="lever-wrap">
            <div class="lever-item lever-base"></div>
            <div class="lever-item lever-crank"></div>
            <div class="lever-item lever-top"></div>

        </div>
    </div>
    <div class="rect"></div>

</body>
<style>
    .password-input {
        background: white;
        height: 50px;
        width: 300px;
        font-size: 20px;
        border: none;
        line-height: 50px;
        font-family: monospace;
        padding: 0 10px 0 0;
    }
    
    .lever-item {
        position: absolute;
        transform: rotate(20deg);
        transform-origin: 50% 50%;
    }
    
    .rect {
        position: absolute;
        top: 50%;
        left: 60.7%;
        width: 30px;
        height: 30px;
        background-color: #F1BA4F;
    }
    
    .lever-base {
        height: 40px;
        width: 40px;
        border-radius: 50%;
        background-color: #F1BA4F;
        top: -20px;
        left: -20px;
    }
    
    .lever-crank {
        height: 50px;
        width: 10px;
        background-color: #F1BA4F;
        top: -60px;
        left: 5px;
    }
    
    .lever-top {
        height: 50px;
        width: 20px;
        border-radius: 40%;
        background-color: #F84E4E;
        top: -100px;
        left: 15px;
    }
    
    .lever-wrap {
        position: absolute;
        right: -30px;
        top: 25px;
    }
    
    body {
        background-color: #5887ef;
        padding: 0;
        margin: 0;
    }
    
    .wrapper {
        position: absolute;
        transform: translate(-50%, -50%);
        top: 50%;
        left: 50%;
        width: 300px;
    }
</style>

<script>
    var passwordInput = document.querySelector('.password-input');
    var lever = document.querySelector('.lever-wrap');

    passwordInput.addEventListener("keydown", function(event) {
        // if (event.isComposing || event.keyCode === 229) { 
        //   // this is to find specific keys 
        // }
        lever.style.transform = "rotate(20deg)";
        setTimeout(function() {
            lever.style.transform = ""
        }, 500);

        var audio = new Audio('https://interactive-examples.mdn.mozilla.net/media/cc0-audio/t-rex-roar.mp3');
        audio.play();

        var lastHTML = passwordInput.innerHTML;
        var charNumber = event.keyCode;
        passwordInput.innerHTML = lastHTML + String.fromCharCode(event.keyCode - 5);
        setTimeout(function() {
            passwordInput.innerHTML = lastHTML + String.fromCharCode(event.keyCode - 4);
        }, 250);
        setTimeout(function() {
            passwordInput.innerHTML = lastHTML + String.fromCharCode(event.keyCode - 3);
        }, 500);
        setTimeout(function() {
            passwordInput.innerHTML = lastHTML + String.fromCharCode(event.keyCode - 2);
        }, 750);
        setTimeout(function() {
            passwordInput.innerHTML = lastHTML + String.fromCharCode(event.keyCode - 1);
        }, 1000);
        setTimeout(function() {
            passwordInput.innerHTML = lastHTML + String.fromCharCode(event.keyCode);
        }, 1500);

        event.preventDefault();
    });
</script>

</html>